services:
  ebook-scanner:
    # Pulls the pre-built image from Docker Hub
    image: returntohero/ebookscanner:latest
    container_name: ebook-scanner
    restart: unless-stopped
    user: PID:UID
    environment:
      # --- [CRUCIAL FIX] ---
      # This forces Python to print logs immediately instead of buffering them.
      - PYTHONUNBUFFERED=1
    volumes:
      # Your books folder
      - /your/path/to/books:/ebooks:ro
      # Your separate, dedicated folder for the output
      - ./output:/output
networks: {}
